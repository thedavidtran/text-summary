<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
    <title>Text Summary for Personality Insights</title>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="../bin/personality-text-summary.standalone.js"/></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />

    <style>
      #profile pre {
        max-height: 400px;
      }

      #textSummary {
        font-size: 1.2em;
      }
    </style>
  </head>
  <body>

    <div class="container">
      <h1>Text Summary for Personality Insights</h1>
      <p class="lead">Use it to generate a text describing your personality.</p>
      <div class="row">
        <div class="col-sm-6 col-xs-12">
          <h2>Personality Profile</h2>
          <div id="profile" class=""></div>
        </div>
        <div class="col-sm-6 col-xs-12">
          <h2>Personality Summary</h2>
          <div id="textSummary"></div>
        </div>
      </div>
      </div>
    </div>

    <script>

      function buildSummaryHtml(summary) {
        return '<p>' + summary.split('\n').join('</p><p>') + '</p>';
      };

      $.getJSON('./resources/profile.json', '', function ( data ) {
        var summary = new TextSummary('en'),
          summaryText;

        summary.setSubject('female');

        summaryText = summary.getSummary(data);
        $('#textSummary').append(buildSummaryHtml(summaryText));

        $('#profile').append('<pre>' + JSON.stringify(data, null, 2) + '</pre>');
      });

    </script>

  </body>
</html>
